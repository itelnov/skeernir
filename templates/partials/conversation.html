<div class="flex flex-col">
    <details>
        <summary class="w-52 mb-2 mt-2 p-2 justify-center bg-cyan-700 hover:bg-gray-600">{{ graph_name }}</summary>
        <div class="graph-conv-list flex flex-col">
        {% for conv in sorted_entries %}
            <div class="conv w-52 mb-2 mt-2 flex flex-row justify-end rounded-lg hover:bg-gray-600" id="conv-{{conv['session_id']}}">
                <button
                    hx-get="/main/{{conv['session_id']}}"
                    hx-target="body"
                    hx-trigger="click"
                    hx-swap="outerHTML"
                    hx-push-url="true"
                    hx-vals='{"parent_session_id": "{{parent_session_id}}"}'
                    hx-on::after-request=""
                    title="Session {{conv['session_id']}}"
                    class="conv-button w-full text-gray-400 py-2 rounded-lg px-2 transition-colors text-left truncate whitespace-nowrap overflow-hidden text-ellipsis">
                    {{ conv['earliest_message'][:100] }}
                </button>
                <button
                    hx-get="/delconv/{{conv['session_id']}}"
                    hx-target="#conv-list"
                    hx-trigger="click"
                    hx-swap="outerHTML"
                    hx-vals='{"parent_session_id": "{{ parent_session_id }}"}'
                    class="conv-del-button bg-gray-900">
                    <div class="mx-2">
                        <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" class="del-icon">
                            <path d="M10 12V17" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 12V17" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4 7H20" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </button>
            </div>
        {% endfor %}
        </div>
    </details>
</div>